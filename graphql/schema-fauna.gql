directive @embedded on OBJECT
directive @collection(name: String!) on OBJECT
directive @index(name: String!) on FIELD_DEFINITION
directive @resolver(
  name: String
  paginated: Boolean! = false
) on FIELD_DEFINITION
directive @relation(name: String) on FIELD_DEFINITION
directive @unique(index: String) on FIELD_DEFINITION
type Account {
  _id: ID!
  _ts: Long!
  name: String
  visits(
    _size: Int
    _cursor: String
  ): VisitPage!
}

input AccountInput {
  name: String
  visits: AccountVisitsRelation
}

input AccountVisitsRelation {
  create: [VisitInput]
  connect: [ID]
  disconnect: [ID]
}

scalar Date

type Event {
  name: String!
  _id: ID!
  visit: Visit!
  value: String
  created: Time
  _ts: Long!
}

input EventInput {
  name: String!
  value: String
  created: Time
  visit: EventVisitRelation
}

type EventPage {
  data: [Event]!
  after: String
  before: String
}

input EventVisitRelation {
  create: VisitInput
  connect: ID
}

type Feature {
  location: String!
  pixelRatio: Float!
  _id: ID!
  visit: Visit!
  screenWidth: Float!
  innerHeight: Float!
  screenHeight: Float!
  referrer: String!
  innerWidth: Float!
  _ts: Long!
}

input FeatureInput {
  location: String!
  referrer: String!
  screenWidth: Float!
  screenHeight: Float!
  innerWidth: Float!
  innerHeight: Float!
  pixelRatio: Float!
  visit: FeatureVisitRelation
}

input FeatureVisitRelation {
  create: VisitInput
  connect: ID
  disconnect: Boolean
}

type Geo {
  visits(
    _size: Int
    _cursor: String
  ): VisitPage!
  city: String
  latitude: Float!
  _id: ID!
  country: String!
  longitude: Float!
  continent: String!
  timeZone: String!
  _ts: Long!
}

input GeoInput {
  city: String
  continent: String!
  country: String!
  latitude: Float!
  longitude: Float!
  timeZone: String!
  visits: GeoVisitsRelation
}

type GeoPage {
  data: [Geo]!
  after: String
  before: String
}

input GeoVisitsRelation {
  create: [VisitInput]
  connect: [ID]
  disconnect: [ID]
}

scalar Long

type Mutation {
  updateFeature(
    id: ID!
    data: FeatureInput!
  ): Feature
  updateGeo(
    id: ID!
    data: GeoInput!
  ): Geo
  updateEvent(
    id: ID!
    data: EventInput!
  ): Event
  deleteAccount(id: ID!): Account
  createVisit(data: VisitInput!): Visit!
  createGeo(data: GeoInput!): Geo!
  updateAccount(
    id: ID!
    data: AccountInput!
  ): Account
  createEvent(data: EventInput!): Event!
  deleteGeo(id: ID!): Geo
  deleteFeature(id: ID!): Feature
  createAccount(data: AccountInput!): Account!
  createFeature(data: FeatureInput!): Feature!
  updateVisit(
    id: ID!
    data: VisitInput!
  ): Visit
  deleteVisit(id: ID!): Visit
  deleteEvent(id: ID!): Event
}

type Query {
  findEventByID(id: ID!): Event
  allVisits(
    _size: Int
    _cursor: String
  ): VisitPage!
  findVisitByID(id: ID!): Visit
  findFeatureByID(id: ID!): Feature
  findGeoByID(id: ID!): Geo
  geoCoords(latitude: Float!, longitude: Float!): Geo
  allGeos(
    _size: Int
    _cursor: String
  ): GeoPage!
  findAccountByID(id: ID!): Account
}

scalar Time

type Visit {
  ip: String
  feature: Feature
  location: String
  _id: ID!
  geo: Geo
  userAgent: String
  noscript: Boolean
  account: Account!
  referrer: String
  events(
    _size: Int
    _cursor: String
  ): EventPage!
  created: Time
  _ts: Long!
}

input VisitAccountRelation {
  create: AccountInput
  connect: ID
}

input VisitEventsRelation {
  create: [EventInput]
  connect: [ID]
  disconnect: [ID]
}

input VisitFeatureRelation {
  create: FeatureInput
  connect: ID
}

input VisitGeoRelation {
  create: GeoInput
  connect: ID
  disconnect: Boolean
}

input VisitInput {
  ip: String
  userAgent: String
  location: String
  referrer: String
  noscript: Boolean
  created: Time
  account: VisitAccountRelation
  geo: VisitGeoRelation
  events: VisitEventsRelation
  feature: VisitFeatureRelation
}

type VisitPage {
  data: [Visit]!
  after: String
  before: String
}
