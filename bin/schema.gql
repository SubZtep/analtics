type Account {
  name: String
  visits: [Visit!] @relation
}

type Visit {
  ip: String
  userAgent: String
  noscript: Boolean
  created: Time # reason for non-mandatory is fauna's schema generator
  account: Account!
  geo: Geo
  events: [Event!] @relation
  feature: Feature @relation
}

type Geo {
  city: String
  continent: String!
  country: String!
  latitude: Float!
  longitude: Float!
  timeZone: String!
  visits: [Visit!] @relation
}

type Event {
  name: String!
  value: String
  created: Time
  visit: Visit!
}

type Feature {
  location: String!
  referrer: String!
  screenWidth: Float!
  screenHeight: Float!
  innerWidth: Float!
  innerHeight: Float!
  pixelRatio: Float!
  visit: Visit!
}

type Query {
  allVisits: [Visit!]
  allGeos: [Geo!]
  geoCoords(
    latitude: Float!
    longitude: Float!
  ): Geo
}
